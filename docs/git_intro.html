<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>git_intro.knit.md</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Research</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">About</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="research_workflow.html">Module 1: Reproducible workflows</a>
    </li>
    <li>
      <a href="shell_intro.html">Module 2: Working in the shell</a>
    </li>
    <li>
      <a href="git_intro.html">Module 3: Version control with Git</a>
    </li>
    <li>
      <a href="github_collab.html">Module 4: Collaboration with GitHub</a>
    </li>
    <li>
      <a href="metadata.html">Module 5: Metadata and data documentation</a>
    </li>
    <li>
      <a href="reproducible_reports.html">Module 6: Reproducible reports</a>
    </li>
    <li class="dropdown-header">Module 7: Accessing data repositories</li>
    <li class="dropdown-header">Module 8: Publishing data and code</li>
  </ul>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
<li>
  <a href="installation.html">Installation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lillian-aoki/workshop_website">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="git-for-version-control" class="section level2">
<h2>Git for version control</h2>
<p>Version control keeps files organized and tracks changes over time, making it easier for you to reproduce your analyses and to step backward/’undo’ changes as needed during the analysis process.</p>
<div id="learning-objectives" class="section level3">
<h3>Learning objectives</h3>
<p>The target audience for this workshop is any researcher looking to improve their basic skills with Git. During this workshop, participants will</p>
<ul>
<li>Gain familiarity with Git commands, vocabulary, and basic workflows<br />
</li>
<li>Practice using Git to track changes and recover older file versions<br />
</li>
<li>Use both the command line and a Git client</li>
</ul>
</div>
<div id="sources" class="section level3">
<h3>Sources</h3>
<p>This lesson is adapted in part from the <a href="https://swcarpentry.github.io/git-novice/">Software Carpentries</a> and <a href="https://librarycarpentry.org/lc-git/">Library Carpentries</a> lessons.</p>
<p>Other useful resources for learning Git include:</p>
<p><a href="https://happygitwithr.com/">Happy Git with R</a> - especially useful if you are an R user and new to Git.<br />
<a href="http://think-like-a-git.net/">Think Like a Git</a> - I found this most useful once I had some basic Git knowledge<br />
<a href="https://www.atlassian.com/git/tutorials/atlassian-git-cheatsheet">Git Cheatsheet</a> - some basic and some more advanced commands</p>
</div>
<div id="slides" class="section level3">
<h3>Slides</h3>
<p>Slides presented during the workshop are <a href="https://github.com/lillian-aoki/workshop_website/blob/master/slides/03_version_control_sp22.pdf">available here</a> and give more conceptual<br />
background into using Git for version control.</p>
</div>
</div>
<div id="getting-started" class="section level2">
<h2>Getting started</h2>
<p><em>Make sure you’ve downloaded Git and made a GitHub account before the workshop. You’ll use the same email used for your GitHub account to configure Git on your machine.</em></p>
<div id="git-commands" class="section level3">
<h3>Git commands</h3>
<p>When we use Git with the command line, we use the syntax <code>$ git verb option</code> where <code>verb</code> is the command that we want to run, like <code>add</code> or <code>commit</code>.</p>
<p>To get an overview of basic Git commands, run <code>git</code> by itself in the shell. You should see an output that lists a bunch of different commands with a brief explanation.</p>
<p>This is not the most useful way of learning to use Git, but it does provide a sense for the overall trajectory, starting with simple tasks like creating a working area or repository, making and tracking changes, comparing history and status, and eventually collaborating and using Git in reproducible workflows.</p>
</div>
<div id="configure-git" class="section level3">
<h3>Configure Git</h3>
<p>The first time you use Git on your computer, you will need to configure some settings, including your name and email address. It’s useful to use the same user name and email you will use with GitHub (or other Git host server, such as GitLab).</p>
<p>It’s also helpful to use the <code>global</code> flag to configure these settings for all Git activity on this computer on your user account.</p>
<pre class="r"><code>$ git config --global user.name &quot;Your Username&quot;  
$ git config --global user.email &quot;Your email&quot;</code></pre>
<p>You can also configure your preferred text editor to use with Git.</p>
<p>To set the text editor to nano on Mac or Linux, use:</p>
<pre class="r"><code>$ git config --global core.editor &quot;nano -w&quot;</code></pre>
<p>Check out the <a href="">table</a> from Software Carpentries for setting other text editors.</p>
<p>Finally, configure the name of the default branch to <code>main</code>.</p>
<pre class="r"><code>$ git config --global init.defaultBranch main</code></pre>
<p>Check the status of your git settings with the <code>list</code> option:</p>
<pre class="r"><code>$ git config --list </code></pre>
</div>
<div id="initialize-a-repository" class="section level3">
<h3>Initialize a repository</h3>
<p>Start by initializing a repository. Choose a reasonable directory to work in, such as your Desktop or Documents folder, or perhaps a subfolder like ‘temp’ or ‘workshop’.</p>
<p>To create a Git repository (aka repo), run:</p>
<pre class="r"><code>$ git init practice_repo</code></pre>
<p>There will not be any output from this command. Move your working directory into the new <code>practice_repo</code> directory, then list the files, including hidden files:</p>
<pre class="r"><code>$ ls -aF</code></pre>
<p>You’ll see a hidden directory named <code>.git/</code>. This directory is what Git the program uses to track all of the files in your repository, and all of the changes made to those files over time. You will not need to access or modify the <code>.git</code> directory, but its presence tells you that you’ve initiated version control over the parent folder.</p>
</div>
<div id="check-the-project-status" class="section level3">
<h3>Check the project status</h3>
<p>One of the useful basic commands is <code>status</code> which will give you the status of your git repo.</p>
<pre class="r"><code>$ git status</code></pre>
</div>
<div id="create-a-readme" class="section level3">
<h3>Create a README</h3>
<p>To start tracking files, you need to create some files! A good one to start with is a README file. Including a README in a project repository gives the user some guidance about what your repo is all about. The user might be your future self, looking back at a project after a few months away.</p>
<p>Create a README file with your text editor (here we use nano), and add a few lines describing your practice repo, then close the editor.</p>
<pre class="r"><code>$ nano readme.md </code></pre>
<p>If you use <code>ls</code> to list the files in your repo, you’ll see <code>readme.md</code> listed.<br />
Note that using the extension <code>.md</code> creates a markdown file, rather than text.</p>
<p>You can use the <code>cat</code> command to show the text of the file you just created, perhaps something like,</p>
<pre class="r"><code>&quot;A ReadMe file for my Git practice repo&quot;</code></pre>
<p>Check the <code>git status</code> again. Git now gives you a message that you have an untracked file. The output also lets you know the syntax to start tracking that file.</p>
<p class="text-success">
Note, there’s nothing wrong with having untracked files. You might not want Git to keep track of large raw data files for example. See ‘Ignoring files’ below for more info.
</p>
</div>
</div>
<div id="basic-git-workflow" class="section level2">
<h2>Basic Git workflow</h2>
<div id="modify-add-commit" class="section level3">
<h3>Modify-Add-Commit</h3>
<p>Once you’ve identified a file you want to track, like the README file, you need to take two steps. First, tell Git you want to track the file using the <code>add</code> command.</p>
<pre class="r"><code>$ git add readme.md</code></pre>
<p>This is sometimes referred to as staging the file. Basically, you are telling git that you want to keep track of the changes made to this file since the last commit.</p>
<p>Check the status again, and you will see a new message, stating there are changes to be committed in a new file.</p>
<p>The second step is to tell Git to save a snapshot of the staged file(s), using<br />
the <code>commit</code> command:</p>
<pre class="r"><code>$ git commit -m &#39;Add readme.md&#39;</code></pre>
<p>The <code>-m</code> option stand for <code>message</code> and the text in quotes is the commit message.<br />
A commit message is a short, descriptive, and specific summary of the changes we’ve made since the last commit.</p>
<p>If we tried to run the <code>commit</code> command without the <code>-m</code> flag and the message text, Git would send us to the text editor with instructions to write a commit message.</p>
<p class="text-success">
<p>Note, the goal of the commit message is to communicate the context of specific changes; the message completes the sentence, ’If applied, this commit will __’.</p>
A good message is short (&lt;50 characters), but a longer description can also be added. Enter a return (blank line) to separate the short subject line from a longer message with more details.
</p>
<p>The output from running <code>commit</code> shows us that the commit has captured the new file, with 1 line of text inserted. The output also shows an alphanumeric string of seven characters. This is actually the first seven characters of a longer string that identifies the commit. This identifier oro label can be useful in navigating your Git history.</p>
<p>The basic Git workflow starts by modifying a file, staging the changes (using <code>add</code>), and commiting those changes (using <code>commit</code>). Repeat this cycle to keep track of the changes you make to your files over time.</p>
</div>
<div id="tracking-changes" class="section level3">
<h3>Tracking changes</h3>
<p>Other Git commands give more ability to assess the changes to your files.</p>
<p>Start by making another change to the README, by adding another line of text.</p>
<p>Then, run <code>git status</code> to see how Git is tracking those changes. You should see a message stating there are changes not staged for commit.</p>
<p>It can be useful to compare the changes, before staging and committing, using <code>diff</code>:</p>
<pre class="r"><code>$ git diff</code></pre>
<p>The first few lines of the output identify what file is being compared, as well as the computer-generated identifiers for the two versions. The last lines show the actual changes, with a <code>+</code> marker showing the line that has been added.</p>
<p>You can review the <code>diff</code> at this point to understand the changes before committing them. Once you verify the changes, use <code>add</code> and <code>commit</code> to complete the cycle.</p>
<pre class="r"><code>$ git add readme.me  
$ git commit -m &#39;Add more detail to readme&#39;</code></pre>
<p>Now that you’ve made multiple commits, it’s a good time to look at the Git log.</p>
<pre class="r"><code>$ git log</code></pre>
<p>The output lists the commits that have been made to this repository, starting with the most recent. Here you can see how the commit messages can be really useful for understanding the updates to your project. You also see the full length of the alphanumeric identifiers that Git uses to label each commit.</p>
</div>
<div id="looking-backwards" class="section level3">
<h3>Looking backwards</h3>
<p>Add a third line of text to the README file and look at the text using <code>cat</code>. You should have three lines of text, similar to:</p>
<pre class="r"><code>&quot;A Read Me file for the practice_repo  
This repo is for demonstration purposes.  
Another line of text adds more detail.&quot;  </code></pre>
<p>Remember, the first two lines have been added to the previous commit, so they are captured by Git. But the third line you just added is a new modification, and has not been added (staged) and committed yet.</p>
<p>You can assess the difference between the changes in the current working directory and the last commit using the identifier <code>HEAD</code>. <code>HEAD</code> refers to the most recent commit. So, if you want to compare the current changes to the last commit, you can use the following syntax:</p>
<pre class="r"><code>$ git diff HEAD readme.md</code></pre>
<p>Of course, this is the same as if you used only <code>git diff readme.md</code> as we did previously. However, you can also compare to earlier commits with the <code>HEAD</code> syntax.</p>
<p><code>HEAD~1</code> refers to the commit before <code>HEAD</code>(essentially the next oldest commit).<br />
<code>HEAD~2</code> referst to the commit before <code>HEAD~1</code>, again moving one step older.</p>
<p><code>$ git diff HEAD~1 readme.md</code> will highlight multiple lines of text have changed since the commit before the most recent commit.</p>
<p>The <code>HEAD</code> syntax can be useful if you find a change that you want to reverse. For example, perhaps you decide the third line you just added to the READEME isn’t necessary. Remember, that line has not been staged or committed (check with <code>status</code>).</p>
<p>So, you can easily revert the file to the status at the last commit, i.e. <code>HEAD</code>:</p>
<pre class="r"><code>$ git checkout HEAD readme.md  </code></pre>
<p>The <code>checkout</code> command restores the file status to the <code>HEAD</code> commit. You could step further back using the <code>HEAD~</code> syntax or by using the alphanumeric identifiers for each commit. The identifiers are long (40 characters) but you can use just the first seven characters instead of <code>HEAD</code> to refer to a specific commit.</p>
<p class="text-warning">
<p>Note! Be cautious with using <code>git checkout</code>. It can be useful to return to a previous version of a file, for example if a script ‘breaks’ after editing. However, if you run <code>git checkout HEAD</code> without a filename, you will end up in a ‘detached HEAD’ state.</p>
Don’t commit changes in this state, instead return to your main branch by running <code>git checkout main</code>.
</p>
</div>
<div id="ignoring-files" class="section level3">
<h3>Ignoring files</h3>
<p>Sometimes there are files in a repository that you do NOT want Git to track, such as temporary files created during analysis.</p>
<p>In the <code>practice_repo</code>, create a folder named <code>temp</code> for temporary files created during analysis, and create some empty files for that folder:</p>
<pre class="r"><code>$ mkdir temp  
$ touch temp/a.dat temp/b.dat  </code></pre>
<p>Git isn’t tracking these files yet - because you haven’t added them to the staging area with <code>add</code>. However, having lots of untracked files can clutter up the <code>status</code> output and generally make things more confusing.</p>
<p>To specify that we do not want to track these files, we create a <code>.gitignore</code> file, and we can list these filenames in the <code>.gitignore</code></p>
<pre class="r"><code>$ nano .gitignore</code></pre>
<p>In the text editor, you can list the exact file names, <code>a.dat</code> and <code>b.dat</code>, separated by a return. Or, you can use a wildcard (*) to indicate all files with names ending in <code>dat</code> should not be tracked.</p>
<p><code>*.dat</code></p>
<p>Next, add and commit the <code>.gitignore</code> file:</p>
<pre class="r"><code>$ git add .gitignore  
$ git commit -m &quot;create .gitignore to ignore .dat files&quot;</code></pre>
<p>Now, Git will ignore these files when looking for unstaged changes.</p>
<p>However, you can use the option <code>-f</code> to force Git to track a file that is listed in the <code>.gitignore</code></p>
<pre class="r"><code>$ git add -f a.dat</code></pre>
<p>You can also add a directory to a <code>.gitignore</code> file, so we could have simply listed <code>temp/</code> in the <code>.gitignore</code> file to exclude all files in the <code>temp</code> folder.</p>
</div>
</div>
<div id="more-git-actions" class="section level2">
<h2>More Git actions</h2>
<div id="amending-commits" class="section level3">
<h3>Amending commits</h3>
<p>Often when working on a coding or data problem, it’s useful to break the problem down into small pieces and solve each piece incrementally. As you incorporate version control into your computational workflow, you might end up with many small commits. <em>There is nothing wrong with having many small commits!</em> But, you can also choose to <code>amend</code> prior commits, so that you have a simpler Git history.</p>
<p>Practice amending a prior commit by first making a change to your README file (e.g. using <code>echo</code>). Commit this change using <code>git add</code> and <code>git commit</code>.</p>
<p>Now, make a second change to your README file. To add this change to the prior commit, use the following syntax:</p>
<pre class="r"><code>git commit --amend --no-edit</code></pre>
<p>This will amend your previous commit, without changing the commit message you entered previously.</p>
<p>You can also change the commit message when you amend a previous commit. You can run this command with a new message, even if you did not edit the files. For example, if you made a typo in your commit message, you can fix it by ammending the previous commit.</p>
<pre class="r"><code>git commit --amend -m &quot;New commit message&quot;</code></pre>
<p>You can amend the previous commit multiple times, for example as you solve incremental parts of a problem. Note a repeated amend gives you a cleaner git history, but it does not track the amendments. Make individual commits if you want to revisit intermediate steps in your process.</p>
</div>
<div id="resetting" class="section level3">
<h3>Resetting</h3>
<p>Anther useful Git process to know is how to reset, or step backward. You can reset in different ways, depending what you want to ‘undo’.</p>
<p>Take a look at your README file using <code>cat</code> so you know where you are starting from. Check the commit identifier and commit message of the latest commit using <code>git log</code>.</p>
<p>Make a new change to your README file, by adding something like, “A line of text to practice resetting”. Stage and commit this change.</p>
<p>To step backward to the moment right before you committed, use a “soft” reset:</p>
<pre class="r"><code>git reset --soft HEAD^</code></pre>
<p>This will keep the changes to your files, and will keep the changes staged, but it will undo the commit. Verify the change using <code>git status</code></p>
<p>Commit your staged changes (again) so that you can practice resetting again.</p>
<p>To step backward to the moment before you staged the files, use the syntax:</p>
<pre class="r"><code>git rest HEAD^</code></pre>
<p>This will keep the changes to your files, but it will undo the commit and unstage the changes.</p>
<p>Add and commit these unstaged changes to get ready to reset again.</p>
<p>To step backward all the way to before you made any changes, use a “hard” reset:</p>
<pre class="r"><code>git reset --hard HEAD^</code></pre>
<p>This will undo the commit, unstage the changes, <strong>and remove the changes since the commit-before-last!</strong></p>
<p>Run a hard reset to revert back to the commit you started with. Check the message and commit identifier using <code>git log</code>. Does it match what you looked up before?</p>
</div>
</div>
<div id="using-a-git-client" class="section level2">
<h2>Using a Git client</h2>
<p>An alternative to running Git from the command line is to use a Git client, such as GitHub Desktop. The client will give a more visual experience, which can be helpful to stay organized as you are learning Git.</p>
<p>You can download <a href="https://desktop.github.com/">GitHub Desktop</a> if you have not already. When you open the application, it will ask you to authenticate using your username and password on GitHub.com.</p>
<p>If you get stuck, there are <a href="https://docs.github.com/en/desktop/installing-and-configuring-github-desktop/installing-and-authenticating-to-github-desktop/authenticating-to-github">instructions from GitHub here</a>.</p>
<p>Authenticating with GitHub.com will allow you to collaborate on remote repositories. For now, we will focus on using GitHub Desktop to work with the local repo, <code>practice_repo</code> on your machine.</p>
<div id="adding-a-local-repo" class="section level3">
<h3>Adding a local repo</h3>
<p>To add a local repo to GitHub Desktop, go to <code>File</code> and select <code>Add local repository</code>.<br />
Navigate to your <code>practice_repo</code> directory (probably on your Desktop) and click <code>Add repository</code>.</p>
<p>You should now see the repository in the left-hand pane. Click on the repository name, and a new left-hand pane appears, showing ‘Changes’ and ‘History’.</p>
<p>Commits you have made in this repo should appear in the ‘History’ pane.</p>
<p>New changes to your files will appear in the ‘Changes’ pane.</p>
</div>
<div id="staging-and-commiting" class="section level3">
<h3>Staging and commiting</h3>
<p>The strength of using a client like GitHub Desktop is that it provides more visual information compared to the shell. For example, in the ‘Changes’ pane, you should see your README file listed, with a check box to the left and a symbol to the right.</p>
<p>The checkbox shows if your file is staged - it’s probably checked if you have staged the file in the shell. The symbol will be orange if the file has been modified but not commited.</p>
<p>To make a commit, you enter a commit message at the bottom of the ‘Changes’ panel and click ‘Commit to main’</p>
<p>You might need to make a modification to your README file so you have something to commit. You can do that back in the shell (using the text editor as before). Or, try right-clicking on the filename in the GitHub Desktop pane. You’ll see an<br />
option to open the file (perhaps in RStudio or in the default program). You can edit the file in that program, save and close, and you will see new changes to commit in GitHub Desktop.</p>
</div>
<div id="git-client-vs.-command-line" class="section level3">
<h3>Git client vs. command line</h3>
<p>Using a Git client vs the command line is a matter of personal preference. The visual information from the client can make it much easier to understand what is happening with a repo, even if you end up running the Git commands in the shell.</p>
<p>Take some time to explore the GitHub Desktop functionality. Many of the commands covered above are easily accessible. For example, unchecking the checkbox will unstage a file, indicating you do not want Git to record new changes in the next<br />
commit. And if you have an unstaged file, you can right-click and select ‘Add to gitignore’ to ignore that file. This approach can be more intuitive to learn than using the command line.</p>
<p>If you are an R user, RStudio has a basic Git client. You can also access the shell within RStudio as well, so it is easy to use both the command line and a client to access Git as needed.</p>
<p>Jenny Bryan, the author of Happy Git for the useR, gives a good run-down of the <a href="https://happygitwithr.com/git-client.html">reasons to use a Git client</a>.</p>
</div>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<div id="git-basics" class="section level4">
<h4>Git basics</h4>
<p>Working in the command line:</p>
<ol style="list-style-type: decimal">
<li>Create a new repository named <code>bio</code> and initialize version control<br />
</li>
<li>Create a text file named <code>my_bio.txt</code> and add at least three lines about yourself.<br />
</li>
<li>Commit the changes to <code>my_bio.txt</code><br />
</li>
<li>Edit <code>my_bio.txt</code> by changing one of the previous lines and adding a fourth line of text<br />
</li>
<li>Display the differences between the last commit and the updated version<br />
</li>
<li>Commit the new changes and check the status of the repo</li>
</ol>
</div>
<div id="amending-and-resetting" class="section level4">
<h4>Amending and resetting</h4>
<ol style="list-style-type: decimal">
<li>Navigate to the <code>bio</code> repo you created earlier from the command line.<br />
</li>
<li>Edit the <code>my_bio.txt</code> file and stage and commit the changes. Use the commit message “Commit message with a typo”<br />
</li>
<li>Amend the commit message of the prior commit to “Commit message without a typo”<br />
</li>
<li>Use a soft reset to undo your commit.</li>
<li>Commit the changes with the message “Final commit message”.</li>
<li>Check the history of your commits. What commit message do you expect to see? Is that what you see in the log?<br />
</li>
<li>Delete the <code>bio</code> repo and contents from your computer using the command line.</li>
</ol>
</div>
<div id="git-client" class="section level4">
<h4>Git client</h4>
<ol style="list-style-type: decimal">
<li>From GitHub Desktop, create a new repository named <code>science</code> and save in a useful location.<br />
</li>
<li>From GitHub Desktop, open the repository in the Terminal. Create a text file called <code>ideas.txt</code> and add a few lines of some science ideas.<br />
</li>
<li>Return to GitHub Desktop, and stage and commit the changes you’ve made to the ideas file.<br />
</li>
<li>Navigate to the history pane. Where is the commit identifier?<br />
</li>
<li>Return to the command line and make a second file, perhaps <code>more_ideas.txt</code>.<br />
</li>
<li>Return to GitHub Desktop and add the second file to the <code>.gitignore</code>. (There are multiple ways to do this).<br />
</li>
<li>Commit the new changes.<br />
</li>
<li>Remove the <code>science</code> repo from GitHub Desktop (under Repository). What happens to the files?</li>
</ol>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.1.1 (2021-08-10)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur 10.16

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] workflowr_1.6.2

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.7       knitr_1.36       magrittr_2.0.1   R6_2.5.1        
 [5] rlang_0.4.11     fastmap_1.1.0    fansi_0.5.0      stringr_1.4.0   
 [9] tools_4.1.1      xfun_0.26        utf8_1.2.2       git2r_0.28.0    
[13] jquerylib_0.1.4  htmltools_0.5.2  ellipsis_0.3.2   rprojroot_2.0.2 
[17] yaml_2.2.1       digest_0.6.28    tibble_3.1.5     lifecycle_1.0.1 
[21] crayon_1.4.1     later_1.3.0      vctrs_0.3.8      promises_1.2.0.1
[25] fs_1.5.0         glue_1.4.2       evaluate_0.14    rmarkdown_2.11  
[29] stringi_1.7.4    compiler_4.1.1   pillar_1.6.4     httpuv_1.6.3    
[33] pkgconfig_2.0.3 </code></pre>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
