<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>shell_intro.knit.md</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Research</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">About</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="research_workflow.html">Module 1: Reproducible workflows</a>
    </li>
    <li>
      <a href="shell_intro.html">Module 2: Working in the shell</a>
    </li>
    <li>
      <a href="git_intro.html">Module 3: Version control with Git</a>
    </li>
    <li>
      <a href="github_collab.html">Module 4: Collaboration with GitHub</a>
    </li>
    <li>
      <a href="metadata.html">Module 5: Metadata and data documentation</a>
    </li>
    <li class="dropdown-header">Module 6: Reproducible reports</li>
    <li class="dropdown-header">Module 7: Accessing data repositories</li>
    <li class="dropdown-header">Module 8: Publishing data and code</li>
  </ul>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
<li>
  <a href="installation.html">Installation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lillian-aoki/workshop_website">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="working-in-the-shell" class="section level2">
<h2>Working in the shell</h2>
<p>Working in the shell is a succinct way to navigate files and run programs, is fundamental for some advanced computing tasks, and is increasingly used for analysis of big data across fields. This tutorial gives a brief introduction to working in the shell, taught as part of a Reproducible Research workshop series at the University of Oregon.</p>
<div id="learning-objectives" class="section level3">
<h3>Learning objectives</h3>
<p>The target audience for this module is a researcher with little to no experience using the shell/command line. During the workshop, participants will</p>
<ul>
<li>Gain basic familiarity with the shell and learn to run commands</li>
<li>Practice navigating the filesystem using the shell</li>
<li>Practice manipulating files and directories (moving, copying, locking)</li>
</ul>
<p>This tutorial serves as a reference and supplement to in-person learning.</p>
</div>
<div id="acknowledgements-and-resources" class="section level3">
<h3>Acknowledgements and resources</h3>
<p>This lesson is adapted in part from the <a href="https://swcarpentry.github.io/shell-novice/">Software Carpentries</a> and <a href="https://datacarpentry.org/shell-genomics/">Data Carpentries</a> lessons.</p>
<p>Slides from the workshop are <a href="https://github.com/lillian-aoki/workshop_website/blob/master/slides/02_intro_shell.pdf">available here</a></p>
</div>
</div>
<div id="getting-started" class="section level2">
<h2>Getting started</h2>
<p>When you open the shell, you will see some <strong>text</strong> followed by a <strong>prompt symbol</strong> and a <strong>cursor</strong>.</p>
<p>The text indicates your user name and the working directory (the folder you are working in).</p>
<p>The prompt symbol is often a <code>$</code> but may also be a <code>%</code> depending on the shell you are using.</p>
<p>The cursor indicates where you can begin typing commands.</p>
<p>After you type a command, hit the <kbd>Enter</kbd> key to run the command.</p>
<p>The command <code>echo</code> will display a line of text. If you type the following and hit enter</p>
<pre class="r"><code>$ echo hello!</code></pre>
<p>you should see the <strong>output</strong> on the next line as</p>
<pre class="r"><code>hello!</code></pre>
<p class="text-success">
Note, in this documentation, the <code>$</code> prompt is included but you don’t need to type the prompt itself, just the commands that follow it.
</p>
<div id="a-few-basic-commands" class="section level3">
<h3>A few basic commands</h3>
<p><code>pwd</code> prints the working directory (the folder you are working in)</p>
<p><code>ls</code> returns a list of files in the current (working) directory</p>
<p><code>clear</code> will scroll up your screen to give you a clean space to work it. This makes it easier to read, but you can still scroll up to see your previous work.</p>
<p>Try running <code>ls</code> to see the files in your current directory.</p>
</div>
<div id="options-and-documentation" class="section level3">
<h3>Options and documentation</h3>
<p>When you run a command, you can add <strong>options</strong> (also known as <strong>flags</strong>) to modify the output.</p>
<p>For example, use the option <code>-l</code> for the command <code>ls</code> to display more information.</p>
<pre class="r"><code>$ ls -l</code></pre>
<p>Use the option <code>-a</code> to ‘show all’ files, including hidden files in the directory that begin with <code>.</code> These include files used to configure programs, for example.</p>
<p>To find out what options are available for a command, access the manual (i.e. the <strong>documentation</strong>) by running <code>man</code> and the command:</p>
<pre class="r"><code>$ man ls</code></pre>
<p>gives as output the manual for the <code>ls</code> command.</p>
<p>You can navigate through the manual using the <kbd>↑</kbd> and <kbd>↓</kbd> arrow keys, <kbd>page up</kbd> and <kbd>page down</kbd>, or <kbd>space</kbd> and <kbd>B</kbd>.</p>
<p>Type <kbd>Q</kbd> to quit the manual.</p>
<p class="text-success">
Note, on a Windows machine running Git Bash, you may need to use the <code>--help</code> option instead of <code>man</code> to access documentation.
</p>
</div>
<div id="environment-variables" class="section level3">
<h3>Environment variables</h3>
<p><strong>Environment variables</strong> are pieces of information that are stored in your shell session. Variables start with <code>$</code>, e.g. the variable <code>$USER</code> identifies the user (you).</p>
<p>Access variables individually using the echo command:</p>
<pre class="r"><code>$ echo $USER</code></pre>
<p>returns your username.</p>
<p>You can access all environment variables using <code>env</code> and you can set environment variables using <code>export</code>.</p>
<pre class="r"><code>$ export greeting=hello</code></pre>
<p>Assigning a variable with export returns no output to the console but saves the variable value. Access the new value with the <code>echo</code> command:</p>
<pre class="r"><code>$ echo $greeting</code></pre>
<p>Exiting and opening a new session of the shell will reset the variables.</p>
</div>
<div id="using-history" class="section level3">
<h3>Using history</h3>
<p>Often it is useful to look at commands you’ve just entered in the shell. You can access the previous lines you ran sequentially by using the <kbd>↑</kbd> arrow key. This can be useful if you need to re-run a command with a slight change. You can also use the <kbd>↓</kbd> arrow key to return to an empty line.</p>
<p>You can also use the <code>history</code> command to look at your previous commands.</p>
<pre class="r"><code>$ history</code></pre>
<p>produces a numbered output of your previous commands in the session. You can re-run a specific command using the number. For example, if your history shows that you used <code>ls</code> to list files:</p>
<pre class="r"><code>15 ls -a</code></pre>
<p>you can re-run that specific command (with the same options) using the syntax</p>
<pre class="r"><code>!15</code></pre>
</div>
</div>
<div id="navigating-files-and-directories" class="section level2">
<h2>Navigating files and directories</h2>
<p>You may be used to navigating the file system using Finder or Windows Explorer.</p>
<p>The command line provides an alternative way to navigate the files stored on your computer. Individual files are organized within <strong>directories</strong> (aka folders), and directories are organized hierarchically. For example, your Desktop may contain several files and folders, and within those folders there may be additional subfolders. If you downloaded the <a href="https://github.com/lillian-aoki/workshop_website/raw/master/data/shell_intro.zip">data files</a> for this tutorial, you have a folder called <code>shell_intro</code> on your Desktop, which contains additional subfolders and files.</p>
<p>You already used <code>pwd</code> to print the working directory - where you are in the filesystem. Most likely, your default directory is <code>/Users/[my username]</code> on a Mac. On a Windows machine, it may be something like <code>C:\Users\[my username]</code>.</p>
<p>A key command to navigate the filesystem is <code>cd</code> - change directory.</p>
<pre class="r"><code>$ cd ~/Desktop/shell_intro</code></pre>
<p>will change your working directory to the shell_intro directory on your Desktop.</p>
<p>Run <code>ls</code> after you move into a new directory to see the sub-folders and files.</p>
<p>You can move further into the sub-folders by running <code>cd</code> again:</p>
<pre class="r"><code>$ cd data</code></pre>
<p>And you can navigate ‘up’ in the file system using <code>..</code> to move one level up (from <code>data</code> back up to <code>shell_intro</code>, the parent directory of <code>data</code>)</p>
<p>To return to your home (default) directory, you can type the absolute file path, e.g. <code>cd /Users/[my username]</code> or you can use a short-cut with the HOME environment variable:</p>
<pre class="r"><code>$ cd $HOME</code></pre>
<p>will take you back to your home directory.</p>
<div id="some-other-shortcuts" class="section level3">
<h3>Some other shortcuts</h3>
<p>The <code>~</code> (tilde) stands for the home directory, so if <code>/Users/[my username]</code> is the current user’s home directory, then <code>~/Desktop</code> is equivalent to <code>/Users/[my username]/Desktop</code></p>
<p>The <code>.</code> stands for the current directory.</p>
<p>A double period, <code>..</code> stands for the <em>parent</em> of the current directory (one level up).</p>
<p>Running <code>cd</code> without a path specified will also take you to the home directory.</p>
<p>Running <code>cd -</code> (dash) will take you to the previous directory you were in - not ‘up’ the file system, but backwards in time to the last directory you were in.</p>
<p>Tab completion can make writing paths easier. As you type the name of a directory, you can hit <kbd>Tab</kbd> once and the shell will auto-complete the name, if there is only one option. If there is more than one option (e.g. more than one file in a folder), hit <kbd>Tab</kbd> a second time to display the possibilities</p>
</div>
<div id="relative-paths" class="section level3">
<h3>Relative paths</h3>
<p>In the commands above, you have been navigating the file system using <strong>relative</strong> paths, which means you are looking for files or moving between directories relative to the current location. For example, when you type</p>
<pre class="r"><code>$ ls draft </code></pre>
<p>the command lists the files in the directory <code>draft</code> that is a sub-directory of your current location.</p>
<p>To use <strong>absolute</strong> paths instead, you can type the entire path from the root directory. The absolute path starts with the leading <code>/</code> symbolizing the root directory, and then you can complete the full path using tab completion.</p>
<p>Use tab completion to move into the directory <code>~/Desktop/shell-intro/data/figs</code>:</p>
<pre class="r"><code>$ cd /Users/[my username]/Desktop/shell_intro/data/figs</code></pre>
<p>Check that you ended up where you wanted to be with <code>pwd</code>.</p>
<p>Why might you want to use relative paths rather than absolute paths?</p>
</div>
</div>
<div id="manipulating-files-and-directories" class="section level2">
<h2>Manipulating files and directories</h2>
<div id="viewing-files" class="section level3">
<h3>Viewing files</h3>
<p>From the home directory, you can use <code>cd</code> to change the working directory to <code>shell_intro</code> and <code>ls</code> to look at the contents of the new working directory. Use the option <code>-F</code> with <code>ls</code> to indicate which paths are a directory (end in /).</p>
<pre class="r"><code>$ cd ~/Desktop/shell_intro  
$ ls -F  </code></pre>
<p>returns output</p>
<pre class="r"><code>brainstorm.txt   data/    draft/</code></pre>
<p>You can also use <code>ls</code> to look at the contents of directories that are NOT the working directory. For example,</p>
<pre class="r"><code>$ ls data  </code></pre>
<p>will return the contents of the <code>data</code> directory, which is a subfolder of the current working directory <code>shell_intro</code>. To view the contents of a folder that is not a subfolder of the current directory, use <code>ls</code> with the full path.</p>
<p>There are several commands you can use to view the contents of a file:</p>
<p><code>cat</code> prints the entire contents of the file<br />
<code>head</code> prints the first lines of the file (default is 10 lines).<br />
<code>tail</code> prints the last lines of the file (default is 10 lines).</p>
<p>Both <code>head</code> and <code>tail</code> can be modified using the <code>-n</code> option to specify the number of lines to print. To print the first five lines of the file ’brainstorm.txt`:</p>
<pre class="r"><code>$ head -n 5 brainstorm.txt</code></pre>
<p>For large files, an alternative to <code>cat</code> is <code>less</code> which opens the file as a read-only copy and allows you to navigate the file, using the same tools as for the <code>man</code> help pages.</p>
<p>Compare viewing the <code>temperature.csv</code> file in the <code>data</code> subfolder using <code>cat</code> and <code>less</code></p>
<p>Another useful command is <code>wc</code> which counts the number of lines, words, and characters in a file.</p>
<pre class="r"><code>wc data/temperature.csv</code></pre>
<p>will give the following output:</p>
<pre class="r"><code>35      69    1275 data/temperature.csv</code></pre>
<p>If we are only interested in the number of lines, we can use the option <code>-l</code> which shows that the file has 35 lines. Note that words are counted based on white space, and this file is a CSV with commas separating information, so the word count isn’t particularly relevant.</p>
</div>
<div id="creating-files-and-directories" class="section level3">
<h3>Creating files and directories</h3>
<p>The command to create a new directory is <code>mkdir</code>. You can create multiple directories in a hierarchy by specifying the full path. For example, if the working directory is <code>shell_intro</code> on the desktop,</p>
<pre class="r"><code>$ mkdir figs </code></pre>
<p>creates a directory <code>figs</code> within the current directory. If the folder <code>figs</code> already exists, then you can run</p>
<pre class="r"><code>$ mkdir figs/high-res/ </code></pre>
<p>to create <code>high-res</code> inside <code>figs</code>.</p>
<p>Note, there is no output from <code>mkdir</code> but you can check it worked with <code>ls</code>.</p>
<p>You can use the command <code>touch</code> to create an empty file.</p>
<pre class="r"><code>$ touch my_file.txt</code></pre>
<p>creates an empty text file in the current directory.</p>
<p>You can also use a text editor to create files. Using the text editor Nano,</p>
<pre class="r"><code>$ nano abstract.txt  </code></pre>
<p>will create a file called <code>abstract.txt</code> and open that file in the Nano text editor.</p>
<p>You can type some sample text in the file, then hit <kbd>Ctrl</kbd> + <kbd>X</kbd> to exit. Nano will ask if you want to save the changes. Type <kbd>Y</kbd> and then <kbd>Enter</kbd> to save changes.</p>
<p>Another way to assign content to files is using the <code>&gt;</code> and <code>&gt;&gt;</code> redirection operators. The greater-than symbol (also known as angle bracket) <code>&gt;</code> redirects the command’s output. For example, you can create a new file from the output of a command like <code>wc</code></p>
<pre class="r"><code>$ wc brainstorm.txt &gt; length.txt</code></pre>
<p>You can also use <code>&gt;</code> with <code>echo</code> to assign text directly, e.g. </p>
<pre class="r"><code>`$ echo Some text describing my science &gt; my_file.txt`  </code></pre>
<p>will assign the line of text to the file <code>my_file.txt</code> we created earlier. If the file did not already exist, it would create a new file.</p>
<p>Try using <code>echo</code> and <code>&gt;</code> to assign a second line of text to the same <code>my_file.txt</code> file.</p>
<p>The double bracket <code>&gt;&gt;</code> appends text to existing content, rather than overwriting. So, if we have a new thought to add to the <code>abstract.txt</code> file, we can use</p>
<pre class="r"><code>$ echo A new thought to frame my scientific result &gt;&gt; abstract.txt  </code></pre>
<p>instead of opening the file in a text editor.</p>
</div>
<div id="moving-and-copying-files" class="section level3">
<h3>Moving and copying files</h3>
<p>To copy files or directories, use the <code>mv</code> command. Specify the file to move and the new destination. For example,</p>
<pre class="r"><code>$ mv brainstorm.txt draft</code></pre>
<p>will move the file <code>brainstorm.txt</code> into the <code>draft</code> folder. What if you want to move the file back to the main <code>shell_intro</code> folder?</p>
<pre class="r"><code>$ mv draft/brainstorm.txt .  </code></pre>
<p>will identify the file based on the path and move it to the current directory (using <code>.</code> as the shortcut for the current directory)</p>
<p class="text-success">
Note, <code>mv</code> will overwrite any existing files with the same name! Double-check names before moving files, or use <code>mv -i</code>, the interactive option which will ask you before overwriting existing files.
</p>
<p>To copy files or directories, use the <code>cp</code> command, which is similar to <code>mv</code>. Specify the file or directory to copy and the location for the copy.<br />
To create a duplicate, such as a back-up file, you can simply specify a new name in the current directory as follows:</p>
<pre class="r"><code>$ cp abstract.txt abstract_backup.txt  </code></pre>
<p>will create a second copy of your text file, named <code>abstract_backup.txt</code></p>
</div>
<div id="deleting-files-and-directories" class="section level3">
<h3>Deleting files and directories</h3>
<p>Deleting files is easy using the <code>rm</code> command.</p>
<p><code>$ rm abstract_backup.txt</code></p>
<p>will remove the second text file you just created.</p>
<p class="text-success">
Caution, there’s no ‘undo’ for deleting files! Use the <code>-i</code> option to give an interactive confirmation you want to remove a file.
</p>
<p>Deleting directories requires using an option with <code>rm</code>. The <code>-r</code> (recursive) option will allow for removing directories, but again with no warning. Combine the <code>-r</code> and <code>-i</code> options to get an interactive warning before deleting.</p>
<pre class="r"><code>$ rm -ri data/figs/high-res</code></pre>
<p>will first ask if you want to delete the <code>high-res</code> directory. Hit <kbd>Y</kbd> to confirm.</p>
</div>
<div id="locking-files" class="section level3">
<h3>Locking files</h3>
<p>Keeping raw data safe is important for maintaining reproducibility. One way to keep raw data safe is by changing the permissions to read-only on a back-up copy.</p>
<p>We can demonstrate with the <code>temperature.csv</code> file in the <code>data</code> directory.</p>
<p>First, move into the <code>data</code> directory and use <code>ls -l</code> to look at the permissions for <code>temperature.csv</code>. The first portion of the output gives information on the file’s permissions. There are 10 slots in the permissions list. The first character relates to the file type, which we can disregard. The next three characters show the file owner’s permissions, with <code>r</code> for read, <code>w</code> for write, and <code>x</code> for execute.</p>
<p>Most likely, you have permissions to read and write for this file, i.e. <code>rw-</code>.</p>
<p>Use the command <code>chmod</code> (change mode) to change permissions, with the option <code>-w</code> to remove write permission.</p>
<pre class="r"><code>$ chmod -w temperature.csv</code></pre>
<p>Now we can assess the file permissions again (use the arrow keys to recall the <code>ls -l</code> command you ran previously). The permissions have changed to <code>r--</code>, indicating read-only permission.</p>
<p>If you try and delete this file with <code>rm</code>, you’ll get an interactive warning asking if you want to override permissions to remove the file. This extra step can help prevent accidentally deleting or modifying your raw data. You might consider having copies of the raw data files that are locked as back-ups to copies you modify.</p>
</div>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<div id="navigating-the-file-structure" class="section level3">
<h3>1. Navigating the file structure</h3>
<ol style="list-style-type: decimal">
<li>Navigate to the <code>shell_intro</code> directory.<br />
</li>
<li>Use the command <code>ls</code> to list the contents, and use the <code>-t</code> option to list the contents in order of the time of the last change. Combine the <code>-t</code> and <code>-l</code> options to identify the size of the most recently changed file.<br />
</li>
<li>Rerun the command you just ran and add the option <code>-h</code>. What changes in the output? Look up the <code>-h</code> option in the manual for <code>ls</code>. What does this option do?<br />
</li>
<li>Navigate to the <code>data</code> sub-directory of the <code>shell_intro</code> folder. From here, identify four ways to navigate to your home directory with one command. Pick your favorite way and move to the home directory.</li>
<li>Toggle back to the <code>data</code> directory using a single command.</li>
</ol>
</div>
<div id="manipulating-files" class="section level3">
<h3>2. Manipulating files</h3>
<p>Consider a scenario where you are using the data from the <code>temperature.csv</code> file as the basis for an analysis workflow.</p>
<ol style="list-style-type: decimal">
<li>Create a directory structure for your new project. Consider the subfolders that will help keep your project organized.</li>
<li>Copy the data file <code>temperature.csv</code> from the shell_intro folder into a reasonable location in your new project directory</li>
<li>Create a locked copy of the data file with a useful name</li>
<li>Create a copy of the data file for editing with a useful name. Remove the last four rows of the data frame (perhaps these measurements occurred after you brought the sensor into the lab).</li>
<li>Bonus - create a new file that contains a log of the commands you just used to set up the project and edit the files (hint, you can do this with <code>echo</code> and <code>history</code>). Consider where to save this log file in your project directory.</li>
</ol>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
